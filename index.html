<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>cassandraMAP by jcoc611</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>cassandraMAP</h1>
        <p>A JavaScript implementation of Cassandra&#39;s Map type based on JSON3.</p>

        <p class="view"><a href="https://github.com/jcoc611/cassandraMAP">View the Project on GitHub <small>jcoc611/cassandraMAP</small></a></p>


        <ul>
          <li><a href="https://github.com/jcoc611/cassandraMAP/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/jcoc611/cassandraMAP/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/jcoc611/cassandraMAP">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="cassandramap" class="anchor" href="#cassandramap" aria-hidden="true"><span class="octicon octicon-link"></span></a>cassandraMAP</h1>

<p><img src="http://s21.postimg.org/qvtt7xjqf/cassandra_MAP.png" alt="cassandraMAP Logo"></p>

<p><strong>CassandraMAP</strong> is a JavaScript implementation of Cassandra's Map type based on JSON3, compatible with a variety of platforms, including Internet Explorer 6, Opera 7, Safari 2, and Netscape 6. The current version is <strong>0.1.0</strong>.</p>

<ul>
<li>
<a href="http://static.jousst.com/js/cassandraMAP-0.1.0.js">Development Version</a> <em>(32 KB; uncompressed with comments)</em>
</li>
<li>
<a href="http://static.jousst.com/js/cassandraMAP-0.1.0.min.js">Production Version</a> <em>(8 KB; compressed)</em>
</li>
</ul>

<p>This code is based on <a href="../bestiejs/json3">JSON 3</a>, created by <a href="../bestiejs">bestiejs</a>.</p>

<p><a href="http://cassandra.apache.org/">Apache Cassandra</a> is an open-source distributed database managment system designed to handle large amounts of data. Within its query language, <a href="http://www.datastax.com/documentation/cql/3.1/cql/cql_using/about_cql_c.html">CQL</a>, there is a <a href="http://www.datastax.com/documentation/cql/3.0/cql/cql_using/use_map_t.html">map</a> data type, which is equivalent to a JavaScript object. In order to query a database with CQL, a JavaScript object must be encoded into a JSON-like string that uses single quotes instead of the JSON standard double quotes. <strong>cassandraMAP</strong> provides a reliable, yet simple, way to encode objects into CQL-compilant map strings and decode them back to objects.  </p>

<p>cassandraMAP exposes two functions: <code>stringify()</code> for <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON/stringify">serializing</a> a JavaScript value to a CQL Map, and <code>parse()</code> for <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON/parse">producing</a> a JavaScript value from a CQL Map source string. Note: the links provided above are based on the JSON specification, and are provided only for reference purposes; cassandraMAP <strong>does not</strong> produce JSON-compilant results.</p>

<p>Portions of the date serialization code are adapted from the <a href="https://github.com/Yaffle/date-shim"><code>date-shim</code></a> project.</p>

<h1>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h1>

<h2>
<a id="web-browsers" class="anchor" href="#web-browsers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Web Browsers</h2>

<pre><code>&lt;script src="./path/to/cassandraMAP.js"&gt;&lt;/script&gt;
&lt;script&gt;
  cassandraMAP.stringify({"key": "value"});
  // =&gt; "{'key':'value'}"
  JSON.parse("{'key':'value'}");
  // =&gt; {"key": "value"}
&lt;/script&gt;
</code></pre>

<h3>
<a id="asynchronous-module-loaders" class="anchor" href="#asynchronous-module-loaders" aria-hidden="true"><span class="octicon octicon-link"></span></a>Asynchronous Module Loaders</h3>

<p>Just like JSON 3, cassandraMAP is defined as an <a href="https://github.com/amdjs/amdjs-api/wiki/AMD#define-function-">anonymous module</a> for compatibility with <a href="http://requirejs.org/">RequireJS</a>, <a href="https://github.com/cujojs/curl"><code>curl.js</code></a>, and other asynchronous module loaders.</p>

<pre><code>&lt;script src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.js"&gt;&lt;/script&gt;
&lt;script&gt;
  require({
    "paths": {
      "cassandraMAP": "./path/to/cassandraMAP"
    }
  }, ["cassandraMAP"], function (cassandraMAP) {
    cassandraMAP.parse("[1, 2, 3]");
    // =&gt; [1, 2, 3]
  });
&lt;/script&gt;
</code></pre>

<p>To avoid issues with third-party scripts, <strong>cassandraMAP is exported to the global scope even when used with a module loader</strong>.</p>

<h2>
<a id="commonjs-environments" class="anchor" href="#commonjs-environments" aria-hidden="true"><span class="octicon octicon-link"></span></a>CommonJS Environments</h2>

<pre><code>var cassandraMAP = require("./path/to/cassandraMAP");
cassandraMAP.parse("[1, 2, 3]");
// =&gt; [1, 2, 3]
</code></pre>

<h2>
<a id="javascript-engines" class="anchor" href="#javascript-engines" aria-hidden="true"><span class="octicon octicon-link"></span></a>JavaScript Engines</h2>

<pre><code>load("./path/to/cassandraMAP.js");
cassandraMAP.stringify({"Hello": 123, "Good-bye": 456}, ["Hello"], "\t");
// =&gt; "{\n\t'Hello': 123\n}"
</code></pre>

<h2>
<a id="known-incompatibilities" class="anchor" href="#known-incompatibilities" aria-hidden="true"><span class="octicon octicon-link"></span></a>Known Incompatibilities</h2>

<ul>
<li>Attempting to serialize the <code>arguments</code> object may produce inconsistent results across environments due to specification version differences. As a workaround, please convert the <code>arguments</code> object to an array first: <code>JSON.stringify([].slice.call(arguments, 0))</code>.</li>
</ul>

<h2>
<a id="required-native-methods" class="anchor" href="#required-native-methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Required Native Methods</h2>

<p>Just like JSON 3, cassandraMAP assumes that the following methods exist and function as described in the ECMAScript specification:</p>

<ul>
<li>The <code>Number</code>, <code>String</code>, <code>Array</code>, <code>Object</code>, <code>Date</code>, <code>SyntaxError</code>, and <code>TypeError</code> constructors.</li>
<li><code>String.fromCharCode</code></li>
<li><code>Object#toString</code></li>
<li><code>Function#call</code></li>
<li><code>Math.floor</code></li>
<li><code>Number#toString</code></li>
<li><code>Date#valueOf</code></li>
<li>
<code>String.prototype</code>: <code>indexOf</code>, <code>charCodeAt</code>, <code>charAt</code>, <code>slice</code>.</li>
<li>
<code>Array.prototype</code>: <code>push</code>, <code>pop</code>, <code>join</code>.</li>
</ul>

<h1>
<a id="contribute" class="anchor" href="#contribute" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contribute</h1>

<p>If youâ€™d like to contribute a feature or bug fix, you can <a href="https://help.github.com/fork-a-repo/">fork</a> cassandraMAP, commit your changes, and <a href="https://help.github.com/send-pull-requests/">send a pull request</a>. Please make sure to update the unit tests in the <code>test</code> directory as well.</p>

<p>Alternatively, you can use the <a href="https://github.com/jcoc611/cassandraMAP/issues">GitHub issue tracker</a> to submit bug reports, feature requests, and questions, or send tweets to <a href="https://twitter.com/jcoc611">@jcoc611</a>.</p>

<p>cassandraMAP is released under the <a href="http://kit.mit-license.org/">MIT License</a>.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/jcoc611">jcoc611</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>